2019 IEEE Fifth International Conference on Multimedia Big Data (BigMM)
GEOSECURE-O: A METHOD FOR SECURE DISTANCE CALCULATION FOR TRAVEL
MODE DETECTION USING OUTSOURCED GPS TRAJECTORY DATA
Vikram Patil, Shivam B. Parikh and Pradeep K. Atrey
Albany Lab for Privacy and Security, College of Engineering and Applied Sciences
University at Albany, State University of New York, Albany, NY, USA
Email: {vpatil, sparikh, patrey}@albany.edu
ABSTRACT
Detecting the mode of transportation using multimedia
sensory data, such as GPS trajectory data, is an important
research problem arising out in many application domains
that use location-based services (LBS). Due to the large vol-
ume, such data is commonly outsourced to third-party cloud
service providers (CSP) for storage and usage by the LBS
providers. The LBS providers typically deploy mode detec-
tion algorithms at the CSPs, which leads to continuous track-
ing of the user’s location and raises severe security and pri-
vacy concerns among the users. Although many approaches
exist in the literature regarding travel mode detection, secu-
rity, and privacy concerns are not addressed by them. GPS
based mode detection algorithms use distance and derived
features such as velocity and acceleration. In this paper, we
present a method, called GeoSecure-O, to securely calculate
the distance without revealing the users’ location to the LBS
provider and utilize it to determine the travel mode. We eval-
uate the proposed method on the Microsoft GeoLife dataset.
Experimental results show that the proposed method not only
protects users’ location but also achieves an accuracy similar
to what is achieved using the data with users’ location.
Index Terms— GPS, Privacy, Secure distance calcula-
tion, Trajectory mode detection
1. INTRODUCTION
In the last decade, we have seen exponential growth in mul-
timedia sensory devices such as smartphones, smartwatches,
and fitness trackers. Many of these devices track users’ loca-
tion in real-time. The location information is typically used
by the location-based services (LBS) backed apps. For in-
stance, fitness trackers and parking location finder apps heav-
ily rely on the travel mode of the user. Travel mode is deter-
mined using the distance metric and its derived features such
as speed and acceleration. The distance and associated fea-
tures are derived from the global positioning system (GPS)
data recorded on the users’ devices. A travel mode detec-
tion method then classifies the mode into categories such as
walk, bike, car, bus, train, subway, and taxi. Mode detection is
also essential in many other applications such as trip purpose
detection, finding travel companion, intelligent transportation
systems, and city and route planning.
Since the GPS data generated by users’ devices is usu-
ally very large in volume, it is outsourced to cloud service
providers (CSP) for storage and usage. LBS providers typ-
ically make use of this data to offer various services to the
users. While on the one hand, LBS provides many benefits to
the users; on the other hand, they are proving to be a privacy
nightmare. GPS data is highly sensitive data, and a lot of in-
formation can be derived just by looking at the GPS trajectory
of the user. To a reasonable level, home, and work address,
patterns of the places frequently visited, habits, etc. can be
determined with high accuracy. This information can prove
to be a goldmine of user data to the marketing companies for
targeting advertisements, etc. and can also help organizations
and planners to determine trends of user activity, etc. How-
ever, this can also be fatal if it falls into the hand of adver-
saries. In the case of a data leak, cyber-attacks on cloud plat-
forms or the LBS providers, the external adversaries can gain
access of the users’ GPS data. If an adversary gains access to
GPS trajectories of multiple people, then personal informa-
tion about the users can be learned by clustering their GPS
trajectories. In the scenario where the LBS provider is semi-
malicious or curious, it might be interested in knowing users’
data. Hence, there is a need for a novel approach that can not
only provide the desired LBS (travel mode detection in our
case) but also protect the users’ GPS data from adversaries.
In our previous work [11], we proposed a method, called
GeoSecure, to determine distance, velocity, and acceleration,
without revealing users’ GPS trajectory. This is achieved by
storing the first point of the trajectory on the user’s device
and sending the differences in consecutive points to the LBS
provider or CSP. Then, the LBS provider uses a modified ver-
sion of the haversine formula to calculate the distance, and
with the time information, velocity and acceleration can also
be determined. In the GeoSecure method, since a fixed value
is assigned to the cosine term in the haversine formula, its
accuracy is limited.
In this paper, we propose a new method, called
978-1-7281-5527-2/19/$31.00 ©2019 IEEE
DOI 10.1109/BigMM.2019.00063
348
Table 1. A comparison of GPS based methods for travel mode detection
The Work Location Secured? Approaches
Gonzalez et al. [1] No Neural Networks & assisted GPS data
Gong et al. [2] No Combined GPS/GIS rule based model
Bothe et al. [3] No Combines GPS/GIS rule based model
Stopher et al. [4] No Combines GPS/GIS rule based model
Widhalm et al. [5] No Two-stage classification technique based on randomized
ensemble of classifiers Hidden Markov Model
Shafique and Hato [6] No Uses SVM, AdaBoost, Random forest and decision tree classifiers
Bantis and Haworth [7] No Bayesian framework using Markov Chain Monte Carlo (MCMC) methods
M¨
¨
aenp
a
¨ a et al. [8] No Feed-forward neural network and other classifiers
Xu et al. [9] No Fuzzy pattern recognition
Xiao et al. [10] No Bayesian network
Proposed Method Yes Ensemble of decision tree classifiers
GeoSecure-O, to calculate the distance between two GPS co-
ordinates without revealing the exact location information to
the LBS provider or CSP. The proposed method is inspired by
the feedforward neural network without cross-parameter shar-
ing. In this method, we optimize the unknown cosine prod-
uct term in the haversine formula by minimizing the mean
squared error (MSE) between actual distance and approxi-
mated distance. This provides us the distance between the
two GPS points with just their consecutive differences and in
turn, velocity and acceleration. By using these features, the
decision tree classifier is deployed to determine the mode of
transportation of the user. Since the actual GPS coordinates
of the user are never shared with the CSP or LBS provider, the
threat from external adversaries of data loss in the event of the
data breach, etc. is eliminated. Also, in case of the internal
adversaries such as semi-malicious or curious LBS provider
and its employees, the users’ data is protected.
Travel mode detection has been a widely studied prob-
lem, and researchers have proposed several approaches. To
the best of our knowledge, this is the first paper which deals
with GPS based travel mode detection of the user without re-
vealing the actual location and in-turn ensuring privacy. Our
key contributions in this paper are:
1. We propose a novel method, GeoSecure-O, to securely
calculate the distance and derived features such as ve-
locity and acceleration, and
2. We combine this method along with machine learning
based classifier to determine the travel mode of the user
without revealing users’ location.
The goal of the proposed method is to achieve similar
classification accuracy for mode detection on the private data
(without actual location) as compared to the actual data (with
the actual location).
The rest of the paper is organized as follows, related work
from the literature is mentioned in Section 2, followed by the
proposed method in Section 3. Section 4 consists of experi-
ments and results. Conclusion and future work are outlined in
Section 5.
2. RELATED WORK
There are two traditional approaches for travel mode detec-
tion. The first approach uses data generated by sensors such
as accelerometer, gyroscope, etc. Based on this sensor data,
standard classification algorithms are used. The second ap-
proach uses the GPS data and its derived features such as
distance. These features, in turn, are used to train the clas-
sifiers which perform the classification. The proposed work
falls into the second category.
The related work from the literature can be classified into
two categories, secured distance calculation and mode detec-
tion techniques proposed in the context of trip purpose detec-
tion.
2.1. Existing Work on Secured Distance Calculation
The secured distance calculation has been an intriguing ques-
tion before the research community, and various approaches
ˇ
have been proposed. In [12],
Sedˇ enka and Gasti introduced a
method to calculate the haversine and Euclidean distance be-
tween two GPS points using homomorphic encryption. The
primary difference in their method and the proposed method
is, we do not use homomorphic encryption. Further, the over-
head involved in the encryption and the resulting increase in
the size of data can lead to higher bandwidth costs, which is
a big factor in the overall cost associated with the cloud. The
proposed method sends only differences between points, sim-
ilar to delta compression. Hence, the size of the data trans-
ferred between the user’s device and the cloud is significantly
less. There are few anonymity based approaches such as us-
ing k-anonymity and using a trusted third party (TTP) server,
which anonymizes the user’s data before sending to the LBS
349
provider for distance calculation. In [13], Hu and Zhu pro-
posed a method using homomorphic encryption to calculate
distance securely. In [14], Monreale et al. introduced an ap-
proach for securely outsourcing data to CSP. In [15], Pietro et
al. proposed a method using Merkel trees and obfuscation to
provide LBS securely.
The proposed method utilizes delta compression. In [16],
Cudre-Mauroux et al. proposed a method based on delta com-
pression for trajectory compression and querying, and also
use fixed point arithmetic, which is used in the proposed
method. However, they did not focus on the privacy or dis-
tance calculation. In [17], Muckell et al. compared various
methods for lossy GPS data compression and introduced a
new method using Synchronized Euclidean Distance (SED).
In our previous paper [11], we presented the GeoSecure
method for calculating the distance using the differences be-
tween successive points. Compared to GeoSecure [11], the
proposed GeoSecure-O method provides improved accuracy
in determining the distance and the associated features. The
GeoSecure-O method further utilizes the secured distance cal-
culation for the application of mode detection. Distance cal-
culation techniques are also extensively used for proximity
testing methods and similarity computation methods. In our
previous work [18], we discussed these distance calculation
methods.
2.2. Existing Work on Travel Mode Detection
In [19], Wu et al. discussed various approaches for determin-
ing travel mode from the GPS data collected from the mo-
bile device. In [1], Gonzalez et al. introduced a novel ap-
proach based on neural network for automated detection of
travel mode. In [2], Gong et al. proposed an algorithm and
the rule based method to classify the given GPS trajectory
into various travel modes. They also explained the challenges
involved in the travel mode detection problem such as warm
start, traffic congestion, urban canyon effect, etc.
In [20], Zhang et al. presented an approach for trajectory
segmentation, mode detection from the raw data. They have
used decision trees, SVM, Bayesian net, and CRF for clas-
sification. In [21], Shah et al. proposed a method for mode
detection by combining the GPS and the sensor data.
In [5], Widhalm et al. introduced a robust approach for
mode detection designed for cell phones data using classifiers
and Hidden Markov Models. In [6], Shafique and Hato pre-
sented an approach based on various machine learning classi-
fiers and only acceleration data for mode detection. In [8],
M¨
¨
aenp
a
¨ a et al. used different classifiers for mode detec-
tion and concluded that use of random forest approach pro-
vides better precision and recall. In [7], Bantis and Haworth
used a Bayesian framework using Markov Chain Monte Carlo
(MCMC) methods to determine modes of transportation for
the users in a transit system. In [9], Xu et al. introduced a
method for mode detection using fuzzy pattern recognition.
In [10], Xiao et al. proposed a Bayesian network based ap-
proach for travel mode detection.
Mode detection techniques are also used for trip activ-
ity/purpose detection, which is a wider research area. In this
domain, mode detection techniques are combined with other
GIS sources such as maps, e.g., map matching algorithms to
determine the trip purpose. They are discussed at length in
[3, 4].
Table 1 provides a comparison of the existing work on
travel mode detection. The approaches described in the litera-
ture do provide efficient algorithms for determining the travel
mode. However, to the best of our knowledge, this is the first
work which provides a GPS data based method to determine
the travel mode of the user without knowing the exact location
or the GPS data directly.
3. THE GEOSECURE-O METHOD
In this section, we first present the definitions and security
model used in this work and then describe the methods for
secured distance calculation and mode detection.
3.1. Definitions
We define the following terms:
Definition 1. (Trajectory) A GPS trajectory T is defined as
a series of consecutive GPS points, T= {Pi,1 ≤ i ≤ n},
where each point Pi is characterized by the following three at-
tributes: lati (latitude), longi (longitude), and timei (times-
tamp).
Definition 2. (Travel Mode Detection Accuracy) The travel
mode detection accuracy is the ratio of the number of trajec-
tories correctly detected and the total number of trajectories
for a given mode.
Definition 3. (Trajectory Privacy) A trajectory is said to pos-
sess k-anonymity privacy if an attacker/adversary is unable
to find the exact location of the user within k different points.
Assuming that the privacy loss, φT,S , with the original tra-
jectory T for a LBS S, is 1 (i.e. full privacy loss), with the
transformed trajectory T′, it will be φT ′ ,S=
1
k using k-
anonymity phenomenon. Therefore, the Trajectory Privacy
PT ′ ,S ∈ [0,1] with the transformed trajectory T′ for LBS S
is given as:
φT ′ ,S
PT ′ ,S = 1−
= 1−
φT,S
1
k (1)
3.2. Security Model
In this security model, we assume that the users’ device and
the mode of communication between the users’ device and
the LBS provider or the CSP are secure. The LBS provider
or CSP are considered as curious/semi-malicious, i.e., they
350
Fig. 1. The workflow of the proposed GeoSecure-O method
will provide the intended service, but they might be curious
to know the user’s data. Any other entity is considered as an
adversary.
3.3. Secured Distance Calculation
There are several methods to calculate the distance between
two GPS data points, such as Euclidean distance and haver-
sine distance. Haversine distance is preferred over Euclidian
distance since it provides higher accuracy. Hence, in this pa-
per, we decided to use the haversine formula.
The haversine formula [22] to calculate the dis-
tance between two GPS points works as follows. Let
P1(lat1,long1,time1), P2(lat2,long2,time2) be any two
points on the surface of the earth, where lat1, long1 and lat2,
long2 represent the latitude and longitude of the two points,
respectively, and time1 and time2 denote the timestamp for
these points. Note that for distance calculation, timestamp pa-
rameter is not used. Also, R is the radius of the earth (mean
radius = 6,371 km). The distance d1,2 between points P1 and
P2 is calculated as follows:
dlong1,2 = long2−long1
dlat1,2 = lat2−lat1
a = (sin(dlat1,2
2 ))2+cos(lat1)×cos(lat2)×(sin(dlong1,2
2 ))2
c = 2×atan2(√a,√1−a)
Fig. 2. The process of finding the optimized value of β
d1,2 = R×c (2)
In the above calculation, we need two actual coordinates
to calculate the distance, which can reveal the user’s location.
A na¨ ıve solution to protect users’ location can be to cal-
culate the distance and the travel mode on the users’ device.
Generally, the apps on the users’ device try to perform the
minimum number of operations on the device and the heavy
computations on the cloud. The users’ devices usually pos-
sess limited computation power, storage capacity, and limited
battery. When the data is sent to the cloud, it is typically less
expensive to store and process. Also, if the user wants to ac-
cess the data on multiple devices, the cloud makes it possible.
In addition, the same data can be used to deliver multiple LBS
based applications. Hence, it makes sense to process the data
on the cloud as compared to the users’ device.
In the GeoSecure method [11], it was shown that the
differences between latitudes and longitudes of consecutive
points of a trajectory do not reveal the location of the user.
However, in this method, the cosine product term β, which
is given as β= cos(lat1) × cos(lat2), is approximated to a
fixed value 1. Although this approximation works, but with
limited accuracy.
Figure 1 depicts the workflow of the proposed GeoSecure-
O method. As shown in the figure, contrary to GeoSecure
method [11], the GeoSecure-O method optimizes the β term
at the LBS provider. To do this, the haversine distance d1,2
between the first two points P1 and P2 of the trajectory is
computed at the client-side (user’s device). Then, the latitude
and longitude differences, dlat1,2 and dlong1,2 in the first two
points along with the actual distance (d1,2) between them are
sent to the LBS provider. In practice, the user can walk some
351
distance and perform this step. Note that, we need the dlat1,2
and dlong1,2 to be nonzero since a zero can result into the
erroneous distance in the haversine formula. If the first two
points have either of this value as 0, then we consider the next
point till we get the nonzero values. Using this information,
the optimal value of β, denoted as βo, is calculated at the LBS
provider.
As illustrated in Figure 2, the LBS provider determines βo
by calculating the approximate distance for values of β from
[0.0,...,1.0] in the increments of α, which is the learning
rate. The range of β is examined in Proposition 1. The LBS
provider then defines a loss function as the MSE, denoted by
ei, between the actual distance d1,2 and the calculated dis-
tance d′
1,2(i) using different values of β for 0.0 ≤ i ≤ 1.0, in
the step of learning rate (α). Precisely, ei is expressed as:
ei =
(d1,2−d′
1,2(i))2
2 (3)
The goal is to minimize the loss function. The value of β,
which gives the minimum value of ei is estimated as its op-
timal value, βo. We call this calibration step. This value is
used for the rest of the trajectory to calculate the distance us-
ing only differences in latitudes and longitudes. For the rest
of the trajectory, the LBS provider uses this value to calcu-
late distance, velocity, and acceleration from the differences
in successive points in latitudes and longitudes. In this pro-
cess, the actual location of the user is not revealed to the LBS
provider. The precision of the learning rate can be varied to
achieve a different level of accuracy in distance calculation.
The proposed method is inspired by the feedforward net-
work without cross-parameter sharing in which every node
feeds values to only one node in the next layer.
In the following proposition, we substantiate that the
range of β varies from 0.0 to 1.0.
Proposition 1. For any two nearby GPS points
P1(lat1,long1) and P2(lat2,long2), the value of
β= cos(lat1)×cos(lat2) ∈ [0.0,1.0]
Proof. The proof is provided in the following steps:
1. For a given value of θ, cos(θ) ∈ [−1,1].
2. For any two given points P1(lat1,long1) and
P2(lat2,long2), which are close to each other or just
few meters away, their corresponding latitudes value
will be very close i.e. lat1 ≈ lat2.
ˆ
3. If we assume lat1 = lat2 =
θ, then we can say that
the multiplication of two terms cos(lat1)and cos(lat2)
ˆ
can be represented as cos2(
θ).
ˆ
4. Since the range of cos2(
θ) is [0,1], value of the β lies
in the range [0,1].
Although, the theoretical value of β can lie in the range
[0,1], for the 900 latitude, the cos(90) = 0. In reality, it is
the north pole; hence, in practice, we can ignore this case and
start the optimization of β from a value α.
The GeoSecure-O method is outlined in the following
steps:
Step 1 Consider that client’s device records a GPS trajectory
T= {P1,P2,...,Pn}, where each point has latitude,
longitude and timestamp attributes.
Step 2 The client’s device calculates the actual distance dbe-
tween first two points P1 and P2 (only once).
Step 3 The client multiplies the latitude and longitude by
106, such that resulting numbers are integer numbers
and their difference will also be real number, as per
fixed point arithmetic explained in [16].
Step 4 The client sends the calculated actual distance d and
the differences dlat1,2 and dlong1,2 for P1 and P2 to
the the LBS provider.
Step 5 The LBS provider calculates the approximate value of
distance d′
1,2 using the dlat1,2 and dlong1,2 and differ-
ent values of β.
Step 6 The LBS provider uses the loss function defined in
Eq. 3 by choosing the learning rate, α = 0.01, based
on which the value of β that provides the least ei is
determined. In other words, the optimized value of β,
i.e. βo is calculated. Note that dlat1,2 and dlong1,2 are
used to calculate the approximate distance d′
1,2(i) for all
values of β, i.e. 0.01 ≤ i ≤ 1.0.
Step 7 The LBS provider then uses βo for rest of the points
on the trajectory.
Step 8 Now for rest of the points of T, the client sends
only the differences in latitude, longitude and time,
i.e. dlati,i+1, dlongi,i+1 and dtimei,i+1 respectively.
Thereafter, the LBS provider uses the value βo calcu-
lated previously, to calculate the distance between the
pairs of points Pi and Pi+1 ∀i ∈ {2,...,n−1}where
n is the length of the trajectory T. The LBS provider
will also check for the stop points i.e., points where
dlati,i+1 and dlongi,i+1 are 0. LBS provider will ig-
nore these points. Also, in case of erroneous points e.g.,
successive points with same timestamp LBS provider
will also ignore them. These preprocessing techniques
can be implemented at both client and server side and
comprises of basic comparison.
352
3.4. Secured Mode Detection
The distance calculated using the GeoSecure-O method and
its derived features are used to determine the travel mode of
the users. The steps are listed below:
Step 1 The distance calculated using the GeoSecure-O
method along with the time difference is used by the
LBS provider to derive features such as average and
maximum values of velocity and acceleration for the
trajectory.
Step 2 The LBS provider also calculates average velocity,
95th percentile of velocity, average acceleration, 95th
percentile of acceleration to eliminate the outliers.
Step 3 The dataset is divided into training and test data. The
LBS provider trains a classifier (e.g., decision tree) us-
ing the training dataset.
Step 4 The LBS provider runs the trained classifier on the
test dataset to classifying the given trajectory into one
of the categories of travel modes.
4. EXPERIMENTS AND RESULTS
4.1. Dataset and Preprocessing
In this work, we have used Microsoft’s GeoLife dataset [23].
This is a publicly available dataset which was collected with
182 users in Beijing, China over a period of 3 years. Only
some of these trajectories have travel mode labels with the
timestamp. For distance calculation, we used entire dataset.
However, for travel mode detection, we only considered tra-
jectories with the mode information.
We processed the raw trajectories into mode-specific sub-
trajectories based on the label and the timestamp. The la-
bel file contains the start time and the end time for a spe-
cific mode the user took. Based on these labels, we created
sub trajectories for that specific mode and stored it as a sepa-
rate file. We only considered trajectories, which had at least
five points in them. The trajectories in the dataset contain
several stop points that have same latitude and longitude for
successive points along with the different timestamp. In this
case, we keep the first point and remove successive points
with the same latitude and longitude. Additionally, there are
some instances where successive points have the same times-
tamp but different latitude and longitudes. Similarly, we keep
the first points and remove successive points with the same
timestamp.
The modes run, airplane, motorcycle, and the boat had
less than 20 trajectories. Hence we decided to ignore these
travel modes, since the classification model may not provide
sufficient accuracy on these modes. The dataset is unbal-
anced since the walk mode has significantly higher number.
Therefore, to balance the dataset, we only took half of the
trajectories of the walk mode. There were several anomalous
values present in the calculated values of velocity and accel-
eration in plaintext as well as by the proposed method. In
order to remove them and get better classification accuracy,
we decided to use the 95th percentile of the velocity and ac-
celeration for each trajectory. However, we can achieve even
higher accuracy if more anomalous points from the dataset
itself are removed. In [24], we have described a method for
securely cleaning the GPS trajectory data. For some classes
such as train, the number of samples is less as compared to
the other classes since its challenging to get more samples of
train mode. Thus, the classification accuracy might get af-
fected. We can further use SMOTE [25] like techniques to in-
crease the number of minority class samples. Since the focus
of this paper is to demonstrate that the almost same level of
mode detection accuracy can be achieved on the secured data
as that of plaintext data, we have not used these techniques.
The percentage of the selected trajectories after prepro-
cessing and cleaning the dataset for the modes walk, bike,
bus, car, subway, taxi, train is 26.31, 21.065, 24.63, 10.82,
7.86, 6.90, 2.38 respectively.
4.2. Experiments
We first performed the data cleaning, i.e., we removed stop
points, successive points with the same timestamp, etc. at the
client-side. However, it can be easily performed at the LBS
provider side also.
In order to examine the utility of the proposed method, we
calculated the distance from the original haversine formula
using the actual GPS coordinates. We also used the proposed
method to calculate the distance using just the differences be-
tween successive points and optimizing the value of cosine
product term (β) in the haversine formula, i.e., βo. After that,
we calculated the velocity and the acceleration for the corre-
sponding methods. If the total actual distance for a trajectory
T is dT (calculated by adding distance between all the con-
secutive points of T) and the approximate distance calculated
using the proposed method is d′
T , then the percentage error
between dT and d′
T is calculated as:
|dT− d′
T |
Percentage Error=
× 100 (4)
dT
Figure 3(a) depicts the histograms of percentage error in
the distance calculated using actual data and the GeoSecure
method. Figure 3(b) illustrates the percentage error in dis-
tance calculated using the GeoSecured-O method. We can
observe that the percentage error for distance is concentrated
around 0 and 5 for the GeoSecure-O method as compared
with between 10 and 20 for the GeoSecure method. The mean
percentage error for the GeoSecure method is 14.23% while
the GeoSecure-O is 2.69%. Hence, we can say that the pro-
posed method reduces the mean percentage error significantly
as compared to GeoSecure method.
353
Fig. 3. Percentage error in distance calculated using (a) actual data and the GeoSecure method [11] (b) actual data and the
proposed GeoSecure-O method
Using the GeoSecure-O method, we calculated the fea-
tures for training the classifier as actual distance, average
velocity, average acceleration, the 95th percentile of veloc-
ity, the 95th percentile of acceleration. Since erroneous
data/outliers exist in the dataset, we use 95th percentile in-
stead of maximum velocity and acceleration values. These
are popular outlier removal methods and have been used ex-
tensively. With these characteristics, we can now calculate the
mode of transportation for the actual data and the proposed
method and compare them.
We divided the dataset into training and test data with the
percentage of 80:20, i.e., 80% training and 20% test dataset.
After performing the testing, we found that the ensemble of
decision tree classifier with the bagging method outperforms
other classifiers. In this type of classifier, the group of de-
cision trees is used, and each is trained on a bag of the data
which is randomly selected points from dataset. We used 30
decision trees in the ensemble.
After performing the classification, for the actual data (i.e.
without preserving privacy), we get the classification accu-
racy of 0.8152 or approximately 81.52%. On the other hand,
for the features calculated from the proposed GeoSecure-O
method (i.e. with preserving privacy), we get the classifica-
tion accuracy of 0.8067 or 80.67%. The difference between
the percentages of the classification accuracy is 0.85. From
these figures, we can observe that the proposed method can
provide similar accuracy for the classification of the travel
mode in privacy ensured way. The confusion matrix for the
classification result on the test data is shown in Figure 4(a) for
the actual data i.e., by sending the users location to the LBS
provider and in Figure 4(b) for the proposed method, i.e., in
privacy ensured way without revealing users location. We can
observe that the classification accuracy is very similar in both
cases. Hence, we can conclude that the proposed method can
effectively classify the mode of transportation with similar ac-
curacy as the actual data without knowing the exact location
of the user and ensures privacy.
4.3. Location Privacy Analysis
The proposed method involves users to send the actual dis-
tance between two points and the differences only once. Us-
ing this, the LBS provider calculates the value of β. Since the
actual location is never shared and the value of β does not re-
veal user’s exact location, it is challenging to find the location
only using dlati,j and dlongi,j of the consecutive points.
In the GPS system generally, a location is expressed by
latitude and longitude with a precision of sixth decimal point.
Hence, for each degree latitude, there can be 106 possible val-
ues and the same number of values for each degree of lon-
gitude. The total number of latitudes 181, and longitudes is
360. As mentioned in Definition 3, a method is said to provide
k-anonymity privacy if the adversary is not able to uniquely
identify a GPS point Pi within a set of k points.
The following proposition discusses, how the proposed
method protects privacy even if the adversary is successful
in inferring the approximate latitude.
Proposition 2. Although the LBS provider can infer the lati-
tude of the first point from the value of β, the location privacy
is preserved.
Proof. The following steps prove this proposition:
1. Lets consider the value of the cos(lat1)×cos(lat2) =
cos2(lat1) = β, for lat1 ∼ lat2 (i.e. if lat1 and lat2
are very close).
2. If this value β is sent to the cloud and adversary gets
access to it, then the adversary can use cosine inverse
354
(a) (b)
Fig. 4. Confusion matrix for mode detection based on features calculated using (a) actual data (without preserving privacy of
users location) (b) the proposed method (with preserving the privacy of users location)
function which will be
cos−1( β) = cos−1( cos2(lat1))
= cos−1(cos(lat1))
= lat1
which reveals the latitude of the user. Even then, it is
challenging to identify the location accurately, since the
adversary gets an approximate latitude or multiple val-
ues of latitude where the user might be present. Since
the latitude value can be positive or negative, this re-
duces the location identification chance significantly.
3. Since the longitude value is never revealed, the adver-
sary will have to select a point from k locations. The
value of k in this case will be 360 × 106. Therefore,
using Equation (1),
PT ′ ,S = 1−
1
360×106 ≈ 1
Since the value of k is huge, we can say that the pro-
posed method preserves privacy.
on Microsoft’s GeoLife dataset and compared it with the re-
sults from the actual distance. Then we used an ensemble of
decision tree classifiers to classify the trajectory into differ-
ent modes. We observed that the proposed method provides
very close classification accuracy to the actual data. In the
future, we plan to work on implementing a stream processing
framework which can process data in real-time to detect travel
mode without revealing users’ location.
5. CONCLUSION AND FUTURE WORK
The proposed GeoSecure-O method calculates the distance
without knowing the exact GPS coordinates of the user. The
distance and its derived features are then used in determining
the travel mode of the user without revealing users location.
In this way, the privacy of the user is ensured, and the utility of
the data is maintained as well. We tested the proposed method
6. REFERENCES
[1] Paola Gonzalez, Jeremy Weinstein, Sean Barbeau,
Miguel Labrador, Philip Winters, Nevine Labib
Georggi, and Rafael Perez, “Automating mode detec-
tion using neural networks and assisted GPS data col-
lected using GPS-enabled mobile phones,” in The 15th
World Congress on Intelligent Transportation Systems
(ITSWC), New York, NY, USA, 2008, pp. 16–20.
[2] Hongmian Gong, Cynthia Chen, Evan Bialostozky, and
Catherine Lawson, “A GPS/GIS method for travel mode
detection in New York City,” Computers, Environment
and Urban Systems, vol. 36, no. 2, pp. 131–139, 2012.
[3] Wendy Bohte and Kees Maat, “Deriving and validat-
ing trip purposes and travel modes for multi-day GPS-
based travel surveys: a large-scale application in the
Netherlands,” Transportation Research Part C: Emerg-
ing Technologies, vol. 17, no. 3, pp. 285–297, 2009.
[4] Peter Stopher, Eoin Clifford, Jun Zhang, and Camden
FitzGerald, “Deducing mode and purpose from GPS
data,” Institute of Transport and Logistics Studies, pp.
1–13, 2008.
355
[5] Peter Widhalm, Philippe Nitsche, and Norbert Br¨ andie,
“Transport mode detection with realistic smartphone
sensor data,” in The 21st IEEE International Confer-
ence on Pattern Recognition (ICPR), Tsukuba, Ibaraki,
Japan, 2012, pp. 573–576.
[6] Muhammad Shafique and Eiji Hato, “Use of acceler-
ation data for transportation mode prediction,” Trans-
portation, vol. 42, no. 1, pp. 163–188, 2015.
[7] Thanos Bantis and James Haworth, “Who you are is
how you travel: a framework for transportation mode
detection using individual and environmental character-
istics,” Transportation Research Part C: Emerging Tech-
nologies, vol. 80, pp. 286–309, 2017.
[8] Heikki M¨
¨
aenp
a
¨ a, Andrei Lobov, and Jose Lastra,
“Travel mode estimation for multi-modal journey plan-
ner,” Transportation Research Part C: Emerging Tech-
nologies, vol. 82, pp. 273–289, 2017.
[9] Chao Xu, Minhe Ji, Wen Chen, and Zhihua Zhang,
“Identifying travel mode from GPS trajectories through
fuzzy pattern recognition,” in The 7th IEEE Interna-
tional Conference on Fuzzy Systems and Knowledge
Discovery (FSKD), Yantai, SD, China, 2010, vol. 2, pp.
889–893.
[10] Guangnian Xiao, Zhicai Juan, and Chunqin Zhang,
“Travel mode detection based on GPS track data and
Bayesian networks,” Computers, Environment and Ur-
ban Systems, vol. 54, pp. 14–22, 2015.
[11] Vikram Patil, Shivam Parikh, Priyanka Singh, and
Pradeep K Atrey, “GeoSecure: Towards secure out-
sourcing of gps data over cloud,” in The 5th IEEE
Conference on Communications and Network Security
(CNS), Las Vegas, NV, USA, 2017, pp. 495–501.
ˇ
[12] Jaroslav
Sedˇ enka and Paolo Gasti, “Privacy-preserving
distance computation and proximity testing on earth,
done right,” in The 9th ACM Symposium on Infor-
mation, Computer and Communications Security (ASI-
ACCS), Kyoto, Japan, 2014, pp. 99–110.
[13] Peizhao Hu and Siyu Zhu, “Poster: Location privacy
using homomorphic encryption,” in The 12th Inter-
national Conference on Security and Privacy in Com-
munication Systems (SecureComm), Guangzhou, China,
2016, pp. 758–761.
[14] Anna Monreale, Salvatore Rinzivillo, Francesca Pratesi,
Fosca Giannotti, and Dino Pedreschi, “Privacy-by-
design in big data analytics and social mining,” EPJ
Data Science, vol. 3, no. 1, pp. 1–26, 2014.
[15] Roberto Di Pietro, Roberto Mandati, and Nino Verde,
“Track me if you can: transparent obfuscation for loca-
tion based services,” in The 14th IEEE World of Wire-
less, Mobile and Multimedia Networks (WoWMoM),
Madrid, Spain, 2013, pp. 1–9.
[16] Philippe Cudre-Mauroux, Eugene Wu, and Samuel
Madden, “Trajstore: An adaptive storage system for
very large trajectory data sets,” in The 26th IEEE In-
ternational Conference on Data Engineering (ICDE),
Long Beach, CA, USA, 2010, pp. 109–120.
[17] Jonathan Muckell, Jeong-Hyon Hwang, Vikram Patil,
Catherine T. Lawson, Fan Ping, and S. S. Ravi,
“SQUISH: an online approach for GPS trajectory com-
pression,” in The ACM International Conference on
Computing for Geospatial Research and Applications,
Washington DC, USA, 2011, vol. 13, pp. 1–8.
[18] Akshay Chandra Pesara, Vikram Patil, and Pradeep K
Atrey, “Secure computing of GPS trajectory similar-
ity: a review,” in The 2nd LocalRec Workshop at The
26th ACM International Conference on Advances in Ge-
ographic Information Systems (SIGSPATIAL), Seattle,
WA, USA, 2018, pp. 3:1–3:7.
[19] Linlin Wu, Biao Yang, and Peng Jing, “Travel mode
detection based on GPS raw data collected by smart-
phones: a systematic review of the existing methodolo-
gies,” Information, vol. 7, no. 4, pp. 67, 2016.
[20] Yu Zheng, Like Liu, Longhao Wang, and Xing Xie,
“Learning transportation mode from raw GPS data for
geographic applications on the web,” in The 17th ACM
International Conference on World Wide Web (WWW),
Beijing, China, 2008, pp. 247–256.
[21] Rahul Shah, Chieh-Yih Wan, Hong Lu, and Lama Nach-
man, “Classifying the mode of transportation on mobile
phones using GIS information,” in The 2014 ACM In-
ternational Joint Conference on Pervasive and Ubiqui-
tous Computing (UbiComp), Seattle, WA, USA, 2014,
pp. 225–229.
[22] Roger Sinnott, “Virtues of the haversine,” Sky and Tele-
scope, vol. 68, pp. 159, 1984.
[23] Yu Zheng, Hao Fu, Xing Xie, Wei-Ying Ma, and Quan-
nan Li, Geolife GPS trajectory dataset - user guide,
accessed July 2019.
[24] Vikram Patil, Priyanka Singh, Shivam Parikh, and
Pradeep K Atrey, “GeoSClean: Secure cleaning of GPS
trajectory data using anomaly detection,” in The 1st
IEEE Conference on Multimedia Information Process-
ing and Retrieval (MIPR), Miami, FL, USA, 2018, pp.
166–169.
[25] Nitesh Chawla, Kevin Bowyer, Lawrence Hall, and
W Kegelmeyer, “SMOTE: synthetic minority over-
sampling technique,” Journal of Artificial Intelligence
Research, vol. 16, pp. 321–357, 2002.
356